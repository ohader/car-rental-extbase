<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
	<f:layout name="Default" />

	This Template is responsible for creating a table of domain objects.

	If you modify this template, do not forget to change the overwrite settings
	in /Configuration/ExtensionBuilder/settings.yaml:
	  Resources:
		Private:
		  Templates:
			List.html: keep

	Otherwise your changes will be overwritten the next time you save the extension in the extension builder

	<f:section name="content">
		<h1>Listing for Car</h1>

		<f:flashMessages />

		<f:for each="{brands}" as="brand">
			<f:link.action
					action="list" arguments="{brand:brand}"
					class="btn {f:if(condition:'{brand}=={selectedBrand}',then:'btn-success')}">
				<span class="glyphicon glyphicon-filter"></span>
				{brand.name}
			</f:link.action>
		</f:for>

		<table class="table table-striped table-condensed" >
			<thead>
				<tr>
					<th><f:translate key="tx_carrentala_domain_model_car.vin" /></th>
					<th><f:translate key="tx_carrentala_domain_model_car.color" /></th>
					<th class="text-center"><f:translate key="tx_carrentala_domain_model_car.images" /></th>
					<th> </th>
				</tr>
			</thead>

			<tbody>
				<f:for each="{cars}" as="car">
					<tr>
						<td><f:link.action action="show" arguments="{car : car}"> {car.vin}</f:link.action></td>
						<td><f:link.action action="show" arguments="{car : car}"> {car.color}</f:link.action></td>
						<td class="text-center"><f:link.action action="show" arguments="{car : car}">
							<f:if condition="{car.images}">
								<f:then>
									<f:image image="{car.images.0}" maxWidth="50"></f:image>
								</f:then>
								<f:else>
									<span class="glyphicon glyphicon-ban-circle"></span>
								</f:else>
							</f:if>
						</f:link.action></td>
						<td>
							<f:link.action action="edit" arguments="{car : car}" class="btn btn-warning">
								<span class="glyphicon glyphicon-pencil"></span>
							</f:link.action>
							<f:link.action action="delete" arguments="{car : car}" class="btn btn-danger">
								<span class="glyphicon glyphicon-remove-sign"></span>
							</f:link.action>
						</td>
					</tr>
				</f:for>
			</tbody>
		</table>

		<f:link.action action="new">New Car</f:link.action>
	</f:section>
</html>